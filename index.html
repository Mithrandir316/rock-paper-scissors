<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rock, Paper, Scissors</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <script>
      function getComputerChoice() {
        let randomNumber = Math.floor(Math.random() * 3);
        let computerChoice;
        if (randomNumber === 0) {
          computerChoice = "Scissors";
        } else if (randomNumber === 1) {
          computerChoice = "Rock";
        } else {
          computerChoice = "Paper";
        }

        return computerChoice;
      }



      let humanScore = 0;
      let computerScore = 0;
      

      function playRound(humanSelection) {

        let computerSelection = getComputerChoice();
        if (
          (humanSelection === "Rock" && computerSelection === "Paper") ||
          (humanSelection === "Paper" && computerSelection === "Scissors") ||
          (humanSelection === "Scissors" && computerSelection === "Rock")
        ) {
          computerScore += 1;
          span.textContent = `Your score ${humanScore} : ${computerScore} Computer Score`;
          paragraph.textContent = `You lost! ${computerSelection} beats ${humanSelection}`;
        } else if (
          (humanSelection === "Rock" && computerSelection === "Scissors") ||
          (humanSelection === "Scissors" && computerSelection === "Paper") ||
          (humanSelection === "Paper" && computerSelection === "Rock")
        ) {
          humanScore += 1;
          span.textContent = `Your score ${humanScore} : ${computerScore} Computer Score`;
          paragraph.textContent = `You win! ${computerSelection} beats ${humanSelection}`;
        } else if (humanSelection === computerSelection) {
          span.textContent = `Your score ${humanScore} : ${computerScore} Computer Score`;
          paragraph.textContent = `Draw! Your choice is ${humanSelection}. Computer choice is ${computerSelection}`;
        }

        if(humanScore === 5){
          span.textContent = `You win! Score ${humanScore} : ${computerScore} Computer Score`;
          rockButton.remove(addEventListener);
          paperButton.remove(addEventListener);
          scissorsButton.remove(addEventListener);
        }else if(computerScore === 5){
          span.textContent = `You lose! Score ${humanScore} : ${computerScore} Computer Score`
          rockButton.remove(addEventListener);
          paperButton.remove(addEventListener);
          scissorsButton.remove(addEventListener);
        }
      }

      let body = document.querySelector("body");
      let container = document.createElement("div");
      let scoreDiv = document.createElement("div");
      let selectionDiv = document.createElement("div");
      let scissorsButton = document.createElement("button");
      let rockButton = document.createElement("button");
      let paperButton = document.createElement("button");
      let span = document.createElement("span");
      let paragraph = document.createElement("p");

      container.classList.add("container");
      scoreDiv.classList.add("scoreDiv");
      selectionDiv.classList.add("selectionDiv");
      scissorsButton.classList.add("scissorsButton");
      rockButton.classList.add("rockButton");
      paperButton.classList.add("paperButton");
      paragraph.classList.add("paragraph");

      scissorsButton.textContent = "Scissors";
      rockButton.textContent = "Rock";
      paperButton.textContent = "Paper";

      scoreDiv.appendChild(span);

      selectionDiv.appendChild(scissorsButton);
      selectionDiv.appendChild(rockButton);
      selectionDiv.appendChild(paperButton);
      
      span.textContent = "Choose your weapon";

      container.appendChild(scoreDiv);
      container.appendChild(selectionDiv);
      container.appendChild(paragraph);

      body.appendChild(container);

      rockButton.addEventListener(
        "click", function(){
          playRound("Rock")
        }
      );
      paperButton.addEventListener(
        "click", function(){
          playRound("Paper")
        }
      );
      scissorsButton.addEventListener(
        "click", function(){
          playRound("Scissors")
        }
      );
    </script>
  </body>
</html>
